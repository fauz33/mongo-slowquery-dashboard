{% extends "base.html" %}

{% block title %}Index Suggestions (v2) - MongoDB Log Analyzer{% endblock %}

{% block content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2"><i class="fas fa-lightbulb me-2"></i>Index Suggestions (v2)</h1>
</div>

<div class="card mb-3">
    <div class="card-body">
        <form id="index-suggestions-form" class="row g-3">
            <div class="col-md-4">
                <label class="form-label">Namespace</label>
                <input type="text" class="form-control" name="namespace" placeholder="db.collection">
            </div>
            <div class="col-md-4">
                <label class="form-label">Database</label>
                <input type="text" class="form-control" name="database">
            </div>
            <div class="col-md-2">
                <label class="form-label">Limit</label>
                <input type="number" class="form-control" name="limit" value="50" min="1" max="200">
            </div>
            <div class="col-md-2">
                <label class="form-label">Start epoch</label>
                <input type="number" class="form-control" name="start_ts" placeholder="optional">
            </div>
            <div class="col-md-2">
                <label class="form-label">End epoch</label>
                <input type="number" class="form-control" name="end_ts" placeholder="optional">
            </div>
            <div class="col-md-12">
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-filter me-1"></i>Load Suggestions
                </button>
            </div>
        </form>
    </div>
</div>

<div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
        <span>Suggestions</span>
        <span class="badge bg-secondary" id="index-suggestions-count">0</span>
    </div>
    <div class="card-body" id="index-suggestions-results">
        <p class="text-muted">No suggestions yet.</p>
    </div>
</div>

<script src="{{ url_for('static', filename='js/index_suggestions_v2.js') }}"></script>
{% endblock %}
